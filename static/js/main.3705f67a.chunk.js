(this["webpackJsonpreact-context-map"]=this["webpackJsonpreact-context-map"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(6),o=n.n(s),i=n(5),r=n.n(i),l=n(3),j=n(7),u=n(4),d=n(1),b=a.a.createContext(null);function p(e){var t=e.children,n=Object(c.useState)({name:"",location:{}}),a=Object(u.a)(n,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition(function(){var e=Object(j.a)(r.a.mark((function e(t){var n,c,a,i,j,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coords,c=n.latitude,a=n.longitude,e.next=3,fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(c,",").concat(a,"&key=AIzaSyD_tgpw_aI3elBJ3FQzH5kqi00Qep6jXxM"));case 3:return i=e.sent,e.next=6,i.json();case 6:j=e.sent,console.log(j.plus_code),u=[j.plus_code.compound_code.split(" ").slice(1,2)," ",j.plus_code.compound_code.split(" ").slice(2,3)],d=u.join("").substring(0,u.join("").length-1),o(Object(l.a)(Object(l.a)({},s),{},{location:Object(l.a)(Object(l.a)({},location),{},{city:d,coords:{lat:c,lon:a}})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){console.log("Couldn't get position!")}))}),[]),Object(d.jsx)(b.Provider,{value:{state:s,setState:o},children:t})}var m=function(){var e=Object(c.useContext)(b).state.name;return Object(d.jsx)("div",{style:{marginTop:"30px"},children:Object(d.jsxs)("h2",{className:"is-size-4",children:[Object(d.jsx)("strong",{children:"Name"}),": ",e]})})},O=n(9),x=(n(23),Object(O.c)({accessToken:"pk.eyJ1IjoianJqYWNrc28iLCJhIjoiY2s5ZzFvMmN2MGV0dzNtbzN4dGlqaGc1dCJ9.vUi9VvVM7kb2AoPYLVW89w"})),h=function(e){var t=e.lat,n=e.lon;return Object(d.jsx)(d.Fragment,{children:t&&n&&Object(d.jsx)(x,{style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:"90vh",width:"90vw",border:"1px solid black",marginTop:"1rem"},center:[n,t],zoom:[9],children:Object(d.jsx)(O.b,{type:"symbol",id:"marker",layout:{"icon-image":"marker-15"},children:Object(d.jsx)(O.a,{coordinates:[t,n]})})})})},g=function(){var e=Object(c.useContext)(b).state.location;return Object(d.jsx)("div",{children:Object(d.jsxs)("h2",{className:"is-size-4",children:[Object(d.jsx)("strong",{children:"Location"}),": ",e.city,Object(d.jsx)(h,Object(l.a)({},e.coords))]})})},v=function(){var e=Object(c.useContext)(b),t=e.state,n=t.name,a=t.location,s=e.setState,o=function(e){var t=Object(c.useState)(e),n=Object(u.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){var t=setTimeout((function(){s(e)}),2e3);return function(){clearTimeout(t)}}),[e]),a}(a.city);return Object(c.useEffect)(Object(j.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=10;break}return console.log("Setting new location coords"),e.next=4,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(o,"&key=AIzaSyD_tgpw_aI3elBJ3FQzH5kqi00Qep6jXxM"));case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,console.log(c),s({name:n,location:Object(l.a)(Object(l.a)({},a),{},{coords:{lat:c.results[0].geometry.location.lat,lon:c.results[0].geometry.location.lng}})});case 10:case"end":return e.stop()}}),e)}))),[o]),Object(d.jsxs)("div",{className:"user-form",children:[Object(d.jsxs)("div",{className:"input-item",children:[Object(d.jsx)("label",{className:"label",children:"Update Name: "}),Object(d.jsx)("input",{className:"input",onChange:function(e){return s({location:a,name:e.target.value})},value:n})]}),Object(d.jsxs)("div",{className:"input-item",children:[Object(d.jsx)("label",{className:"label",children:"Update Location: "}),Object(d.jsx)("input",{className:"input",onChange:function(e){return s({name:n,location:Object(l.a)(Object(l.a)({},a),{},{city:e.target.value})})},value:a.city})]})]})};n(24);function f(){return Object(d.jsx)(p,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h2",{className:"is-size-4",children:"We'll use the React Context API to pass and receive data in any component."}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(v,{}),Object(d.jsxs)("h2",{className:"is-size-4",children:["Display User Info Here"," ",Object(d.jsx)("span",{role:"img","aria-label":"point-down-label",children:"\ud83d\udc47"})]}),Object(d.jsx)("p",{children:"These two children components will receive data. These could be nested components."}),Object(d.jsx)(m,{}),Object(d.jsx)(g,{})]})]})})}var y=document.getElementById("root");o.a.render(Object(d.jsx)(f,{}),y)}},[[25,1,2]]]);
//# sourceMappingURL=main.3705f67a.chunk.js.map